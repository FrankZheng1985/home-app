<!--pages/family/join.wxml - 精美设计版-->
<view class="join-page">
  <!-- 渐变头部 -->
  <view class="page-header">
    <view class="header-bg"></view>
    <view class="header-content">
      <view class="header-icon animate-float">
        <text class="icon-emoji">👋</text>
        <view class="icon-glow"></view>
      </view>
      <text class="header-title">加入家庭</text>
      <text class="header-desc">输入邀请码或扫描二维码加入家庭</text>
    </view>
  </view>

  <!-- 邀请码输入 -->
  <view class="form-card">
    <text class="form-label">输入邀请码</text>
    <view class="code-input-wrapper">
      <input 
        class="code-input" 
        placeholder="请输入6位邀请码"
        value="{{inviteCode}}"
        bindinput="onCodeInput"
        maxlength="6"
        type="text"
      />
    </view>
    <text class="input-hint">向家人获取6位字母数字邀请码</text>
  </view>

  <!-- 操作按钮 -->
  <view class="action-section">
    <button 
      class="submit-btn {{inviteCode.length === 6 ? 'active' : ''}}" 
      bindtap="joinFamily"
      loading="{{isSubmitting}}"
      disabled="{{isSubmitting || inviteCode.length < 6}}"
    >
      <text class="btn-icon">🎉</text>
      <text class="btn-text">加入家庭</text>
    </button>

    <view class="divider">
      <view class="divider-line"></view>
      <text class="divider-text">或者</text>
      <view class="divider-line"></view>
    </view>

    <button class="scan-btn" bindtap="scanQRCode">
      <text class="scan-icon">📷</text>
      <text class="scan-text">扫描邀请二维码</text>
    </button>
  </view>

  <!-- 帮助说明 -->
  <view class="help-section">
    <view class="help-card">
      <text class="help-title">💡 如何获取邀请码？</text>
      <view class="help-steps">
        <view class="step-item">
          <text class="step-num">1</text>
          <text class="step-text">联系您的家人</text>
        </view>
        <view class="step-item">
          <text class="step-num">2</text>
          <text class="step-text">让家人打开「家庭管理」</text>
        </view>
        <view class="step-item">
          <text class="step-num">3</text>
          <text class="step-text">点击「邀请成员」获取邀请码</text>
        </view>
      </view>
    </view>
  </view>
</view>
