<!--pages/login/login.wxml - 3D极简科技版-->
<view class="page-container login-page">
  <view class="login-bg-glow"></view>
  
  <!-- Logo区域 -->
  <view class="logo-section page-fade-in">
    <view class="logo-icon">🏠</view>
    <view class="app-name">家庭小助手</view>
    <view class="app-slogan">Smart Home Assistant</view>
  </view>

  <!-- 功能卡片 -->
  <view class="feature-card success-pop">
    <view class="features-grid">
      <view class="feature-item">
        <view class="feature-icon-wrap">
          <text class="feature-emoji">👨‍👩‍👧‍👦</text>
        </view>
        <text class="feature-text">家庭成员</text>
      </view>
      <view class="feature-item">
        <view class="feature-icon-wrap">
          <text class="feature-emoji">🧹</text>
        </view>
        <text class="feature-text">家务积分</text>
      </view>
      <view class="feature-item">
        <view class="feature-icon-wrap">
          <text class="feature-emoji">💬</text>
        </view>
        <text class="feature-text">动态分享</text>
      </view>
      <view class="feature-item">
        <view class="feature-icon-wrap">
          <text class="feature-emoji">🎁</text>
        </view>
        <text class="feature-text">奖励兑换</text>
      </view>
    </view>
  </view>

  <!-- 登录按钮区域 -->
  <view class="login-section">
    <view class="agreement-section">
      <view class="agreement-checkbox" bindtap="toggleAgreement">
        <view class="checkbox-icon {{agreedToTerms ? 'checked' : ''}}">
          <text wx:if="{{agreedToTerms}}">✓</text>
        </view>
        <view class="agreement-text">
          同意 <text class="link" catchtap="viewUserAgreement">用户协议</text> 与 <text class="link" catchtap="viewPrivacyPolicy">隐私政策</text>
        </view>
      </view>
    </view>

    <button 
      class="wx-login-btn {{!agreedToTerms ? 'disabled' : ''}}" 
      bindtap="getUserProfile"
      loading="{{isLogging}}"
      disabled="{{isLogging || !agreedToTerms}}"
    >
      <view class="btn-content" wx:if="{{!isLogging}}">
        <text class="wx-icon-text">💚</text>
        <text class="btn-text">微信一键登录</text>
      </view>
      <text wx:else class="btn-text">登录中...</text>
    </button>
  </view>
</view>