<!--pages/profile/edit.wxml-->
<view class="container edit-container">
  <!-- 头像编辑 -->
  <view class="avatar-section">
    <button class="avatar-btn" open-type="chooseAvatar" bindchooseavatar="chooseAvatar">
      <image class="avatar-img" 
             src="{{userInfo.avatarUrl || '/assets/images/default-avatar.png'}}" 
             mode="aspectFill"></image>
      <view class="avatar-edit-icon">📷</view>
    </button>
    <view class="avatar-tip text-muted">点击更换头像</view>
  </view>

  <!-- 表单 -->
  <view class="form-section card">
    <view class="form-group">
      <view class="form-label">昵称</view>
      <input 
        type="nickname"
        class="form-input" 
        placeholder="请输入您的昵称"
        value="{{userInfo.nickname}}"
        bindinput="onNicknameInput"
        maxlength="20"
      />
    </view>
  </view>

  <view class="action-section">
    <button 
      class="btn-primary btn-block" 
      bindtap="saveProfile"
      loading="{{isSubmitting}}"
      disabled="{{isSubmitting || !userInfo.nickname.trim()}}"
    >保存</button>
  </view>
</view>
