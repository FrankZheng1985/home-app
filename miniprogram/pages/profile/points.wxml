<!--pages/profile/points.wxml-->
<view class="container points-container">
  <!-- ç§¯åˆ†æ¦‚è§ˆ -->
  <view class="summary-card card">
    <view class="summary-header">
      <text class="summary-title">æˆ‘çš„ç§¯åˆ†</text>
    </view>
    <view class="summary-main">
      <text class="total-points">{{summary.totalPoints || 0}}</text>
      <text class="total-label">ç´¯è®¡ç§¯åˆ†</text>
    </view>
    <view class="summary-stats">
      <view class="stat-item">
        <text class="stat-value text-success">+{{summary.thisWeek || 0}}</text>
        <text class="stat-label">æœ¬å‘¨èŽ·å¾—</text>
      </view>
      <view class="stat-divider"></view>
      <view class="stat-item">
        <text class="stat-value text-primary">+{{summary.thisMonth || 0}}</text>
        <text class="stat-label">æœ¬æœˆèŽ·å¾—</text>
      </view>
    </view>
  </view>

  <!-- ç§¯åˆ†æ˜Žç»† -->
  <view class="transactions-section card">
    <view class="section-header">
      <text class="section-title">ç§¯åˆ†æ˜Žç»†</text>
    </view>

    <view class="transactions-list" wx:if="{{transactions.length > 0}}">
      <view class="transaction-item" wx:for="{{transactions}}" wx:key="id">
        <view class="transaction-icon">
          <text>{{item.type === 'earn' ? 'ðŸ“ˆ' : 'ðŸ“‰'}}</text>
        </view>
        <view class="transaction-info">
          <text class="transaction-title">{{item.description}}</text>
          <text class="transaction-time text-muted">{{item.createdAtText}}</text>
        </view>
        <text class="transaction-points {{item.type === 'earn' ? 'text-success' : 'text-error'}}">
          {{item.type === 'earn' ? '+' : '-'}}{{item.points}}
        </text>
      </view>
    </view>

    <view class="empty-state" wx:else>
      <view class="empty-icon">ðŸ“Š</view>
      <view class="empty-text">æš‚æ— ç§¯åˆ†è®°å½•</view>
    </view>

    <view class="load-more" wx:if="{{hasMore && transactions.length > 0}}">
      <text class="text-muted">ä¸Šæ‹‰åŠ è½½æ›´å¤š</text>
    </view>
    <view class="no-more" wx:if="{{!hasMore && transactions.length > 0}}">
      <text class="text-muted">æ²¡æœ‰æ›´å¤šäº†</text>
    </view>
  </view>
</view>
